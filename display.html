
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Stacked View</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div class="stack" id="stack"></div>

  
<div class="zoom-wrapper" id="zoomWrapper">
  <div class="stack" id="stack"></div>
</div>

<script>
  const zoomWrapper = document.getElementById("zoomWrapper");
  let zoomLevel = 1;

  document.addEventListener("wheel", function(e) {
    if (e.ctrlKey) {
      e.preventDefault(); // 기본 브라우저 확대 방지

      if (e.deltaY < 0) {
        zoomLevel *= 1.05;
      } else {
        zoomLevel *= 0.95;
      }

      zoomWrapper.style.transform = `scale(${zoomLevel})`;
    }
  }, { passive: false });

    const stack = document.getElementById('stack');
    const storedImages = JSON.parse(sessionStorage.getItem('images') || "[]");

    storedImages.sort((a, b) => a.modified - b.modified);
    let index = 0;

    function showNext() {
      if (index >= storedImages.length) return;

      const data = storedImages[index];
      const el = document.createElement('img');
      el.src = data.src;

      el.style.opacity = "0";
      el.style.transform = `
        translateX(${index * 10}px)
        translateY(${-index * 5}px)
        translateZ(${(storedImages.length - index) * 10}px)
      `;
      el.style.zIndex = index;
      el.style.transition = "transform 0.6s ease, opacity 0.6s ease";

      setTimeout(() => {
        el.style.opacity = "1";
      }, 10);

      stack.appendChild(el);
      index++;
      setTimeout(showNext, 200);
    }

    showNext();
  </script>
</body>
</html>
